retreating ice sheets , many millennia ago , deposited their glacial debris behind the hard volcanic plug of the castle rock on which edinburgh castle stands , resulting in a distinctive crag and tail formation castle esplanade and castlehill it was formalised in 1816 when it was widened and provided with decorative railings and walls in later years , linen was the main product sold today , the majority of shops in the street are aimed at tourists this building is of controversial design , winning both best building awards and the carbuncle cup in 2009/10 on the north side , opposite st giles ' , stand edinburgh city chambers , where the city of edinburgh council meets south bridge ( which appears at street level to be simply a road with shops on either sideâ€”only one arch is visible from below ) spans the cowgate to the south , a street in a hollow below , and continues as nicolson street past the old college building of the university of edinburgh the street continues downhill past moray house ( now the main academic offices of moray house school of education of the university of edinburgh ) , the canongate tolbooth ( now a museum of social history called the people 's story ) , the kirk of the canongate ( the canongate 's parish church and a thriving congregation of the church of scotland ) and the new scottish parliament building to holyrood palace and the ruined abbey today , the royal mile is an eclectic mix of shops , restaurants , pubs and visitor attractions parliament square is at the heart of scotland 's legal system , being the home of both the high court of justiciary and the court of session